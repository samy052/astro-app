@import "../../Constants.scss";

.loader {
    color: $orange;
    font: 1em/1.5 sans-serif;
    height: 100vh;
    display: grid;
    place-items: center;
    --trans-dur: 0.3s;
    font-size: calc(20px + (30 - 20) * (100vw - 320px) / (1280 - 320));

    .pencil {
        display: block;
        width: 10em;
        height: 10em;

        &__body1,
        &__body2,
        &__body3,
        &__eraser,
        &__eraser-skew,
        &__point,
        &__rotate,
        &__stroke {
            animation-duration: 3s;
            animation-timing-function: linear;
            animation-iteration-count: infinite;
        }

        &__body1,
        &__body2,
        &__body3 {
            transform: rotate(-90deg);
        }

        &__body1 {
            animation-name: pencilBody1;
        }

        &__body2 {
            animation-name: pencilBody2;
        }

        &__body3 {
            animation-name: pencilBody3;
        }

        &__eraser {
            animation-name: pencilEraser;
            transform: rotate(-90deg) translate(49px, 0);
        }

        &__eraser-skew {
            animation-name: pencilEraserSkew;
            animation-timing-function: ease-in-out;
        }

        &__point {
            animation-name: pencilPoint;
            transform: rotate(-90deg) translate(49px, -30px);
        }

        &__rotate {
            animation-name: pencilRotate;
        }

        &__stroke {
            animation-name: pencilStroke;
            transform: translate(100px, 100px) rotate(-113deg);
        }
    }
}

@keyframes pencilBody1 {

    from,
    to {
        stroke-dashoffset: 351.86;
        transform: rotate(-90deg);
    }

    50% {
        stroke-dashoffset: 150.8;
        transform: rotate(-225deg);
    }
}

@keyframes pencilBody2 {

    from,
    to {
        stroke-dashoffset: 406.84;
        transform: rotate(-90deg);
    }

    50% {
        stroke-dashoffset: 174.36;
        transform: rotate(-225deg);
    }
}

@keyframes pencilBody3 {

    from,
    to {
        stroke-dashoffset: 296.88;
        transform: rotate(-90deg);
    }

    50% {
        stroke-dashoffset: 127.23;
        transform: rotate(-225deg);
    }
}

@keyframes pencilEraser {

    from,
    to {
        transform: rotate(-45deg) translate(49px, 0);
    }

    50% {
        transform: rotate(0deg) translate(49px, 0);
    }
}

@keyframes pencilEraserSkew {

    from,
    32.5%,
    67.5%,
    to {
        transform: skewX(0);
    }

    35%,
    65% {
        transform: skewX(-4deg);
    }

    37.5%,
    62.5% {
        transform: skewX(8deg);
    }

    40%,
    45%,
    50%,
    55%,
    60% {
        transform: skewX(-15deg);
    }

    42.5%,
    47.5%,
    52.5%,
    57.5% {
        transform: skewX(15deg);
    }
}

@keyframes pencilPoint {

    from,
    to {
        transform: rotate(-90deg) translate(49px, -30px);
    }

    50% {
        transform: rotate(-225deg) translate(49px, -30px);
    }
}

@keyframes pencilRotate {
    from {
        transform: translate(100px, 100px) rotate(0);
    }

    to {
        transform: translate(100px, 100px) rotate(720deg);
    }
}

@keyframes pencilStroke {
    from {
        stroke-dashoffset: 439.82;
        transform: translate(100px, 100px) rotate(-113deg);
    }

    50% {
        stroke-dashoffset: 164.93;
        transform: translate(100px, 100px) rotate(-113deg);
    }

    75%,
    to {
        stroke-dashoffset: 439.82;
        transform: translate(100px, 100px) rotate(112deg);
    }
}


.loader {
  display: flex;
  justify-content: center;
  align-items: center;

  .astrology {
    animation: rotate 6s linear infinite;
  }

  .astrology__aura {
    stroke-dasharray: 502.65;
    stroke-dashoffset: 502.65;
    animation: dash 3s ease-in-out infinite alternate;
  }

  .astrology__orbit {
    animation: spin 5s linear infinite;
    transform-origin: center;
  }

  .astrology__star {
    animation: twinkle 2s ease-in-out infinite alternate;
  }
}

@keyframes rotate {
  100% {
    transform: rotate(360deg);
  }
}

@keyframes spin {
  100% {
    transform: rotate(360deg);
  }
}

@keyframes dash {
  to {
    stroke-dashoffset: 0;
  }
}

@keyframes twinkle {
  0% { opacity: 0.2; transform: scale(0.8); }
  100% { opacity: 1; transform: scale(1.2); }
}
